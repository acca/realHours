$(".UMenuTimeStampLabels > div").each(function(a){console.log("Index: "+a+" value: "+$(this).text());children=$(this).children();if(a==$(".UMenuTimeStampLabels > div").length-1){console.log("Total Worked: "+$(children[1]).text());console.log("Total Required: "+$(children[2]).text());totWorked=$(children[1]).text();totRequired=$(children[2]).text()}else{console.log("Day: "+$(children[0]).text());console.log("Worked: "+$(children[1]).text());console.log("Required: "+$(children[2]).text())}});var totalRecoupMs=0;$(".UMenuTimeStampContent > div").each(function(a){console.log("Row: "+a);children=$(this).children();$.each(children,function(b,f){item=$(f).find("div.UMenuTimeStampToolTip").text();if((item.indexOf("Recoup")!=-1)&&(item.indexOf("Inizio")!=-1)){console.log("-Found recoup to sum");start=$(f).find("div.UMenuTimeStampContentSubElementTime").text();var e=new Date(2000,0,1,0,0),g=start.split(/\:|\-/g);e.setHours(g[0]);e.setMinutes(g[1]);console.log("--Start time: "+e);for(var c=b+1;c<children.size();c++){enditem=children[c];enditemText=$(enditem).find("div.UMenuTimeStampToolTip").text();if((enditemText.indexOf("Recoup")!=-1)&&(enditemText.indexOf("Fine")!=-1)){end=$(enditem).find("div.UMenuTimeStampContentSubElementTime").text();var d=new Date(2000,0,1,0,0),g=end.split(/\:|\-/g);d.setHours(g[0]);d.setMinutes(g[1]);console.log("--End time: "+d);difference=new Date(d.getTime()-e.getTime()).getTime();console.log("Difference in ms: "+difference);totalRecoupMs+=difference}}if(!end){alert("Some error on row: "+b)}}})});console.log("Total ms: "+totalRecoupMs);seconds=~~(totalRecoupMs/1000);minutes=~~(seconds/60);hours=~~(minutes/60);minutes=minutes-(hours*60);totalRecoupStr=hours+":"+minutes;console.log("Total recoup: "+totalRecoupStr);alert("Total recoup for this month: "+totalRecoupStr+"\nTotal worked hours for this month: "+msToStr(strToMs(totWorked)+totalRecoupMs));function strToMs(c){var a=new Date(2000,0,1,0,0),b=c.split(/\:|\-/g);a.setHours(b[0]);a.setMinutes(b[1]);return a.getTime()}function msToStr(b){var a=new Date(2000,0,1,0,0);b=b-a.getTime();seconds=~~(b/1000);minutes=~~(seconds/60);hours=~~(minutes/60);minutes=minutes-(hours*60);if(minutes<10){minutes="0"+minutes}return hours+":"+minutes};